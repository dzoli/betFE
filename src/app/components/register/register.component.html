<hr>
<h3>Register</h3>
<hr>
<form [formGroup]="form.registerForm" class="normal-form">
  <mat-grid-list cols="1" rowHeight="500px">
    <mat-grid-tile>
      <div class="controles-container">
        <mat-form-field>
          <input formControlName="firstName" matInput placeholder="First name*" [(ngModel)]="user.name">
          <mat-error>This field is mandatory.</mat-error>
        </mat-form-field>
        <mat-form-field>
          <input formControlName="lastName" matInput placeholder="Last name*" [(ngModel)]="user.surname">
          <mat-error>This field is mandatory.</mat-error>
        </mat-form-field>
        <mat-form-field>
          <input formControlName="username" matInput placeholder="Username*" [(ngModel)]="user.username">
          <mat-error *ngIf="form.registerForm.controls['username'].errors?.minlength">Username must be at least 2
            characters long.</mat-error>
          <mat-error *ngIf="form.registerForm.controls['username'].errors?.required">This field is mandatory.</mat-error>
        </mat-form-field>
        <mat-form-field>
          <input formControlName="email" matInput placeholder="Email*" type="email" user.email [(ngModel)]="user.email">
          <mat-error *ngIf="form.registerForm.controls['email'].errors?.email">Please provide valid email address.</mat-error>
          <mat-error *ngIf="form.registerForm.controls['email'].errors?.required">This field is mandatory.</mat-error>
        </mat-form-field>
        <mat-form-field>
          <input formControlName="password"  pattern="\w*[0-9]{1,}\w*" matInput placeholder="Password*" type="password" [(ngModel)]="user.password">
          <mat-error *ngIf="form.registerForm.controls['password'].errors?.pattern">Password must contain at least on
            number.</mat-error>
          <mat-error *ngIf="form.registerForm.controls['password'].errors?.minlength">Password must be at least 8
            characters long.</mat-error>
          <mat-error *ngIf="form.registerForm.controls['password'].errors?.required">This field is mandatory.</mat-error>
        </mat-form-field>
        <div class="button-row">
          <button mat-raised-button color="primary" [disabled]="form.registerForm.invalid" (click)="register()" type="submit">Register</button>
          <button mat-raised-button color="secondary" (click)="onClear()" type="reset">Clear</button>
        </div>
      </div>
    </mat-grid-tile>
  </mat-grid-list>
</form>

<!-- <div class="form-group">
    <label for="name">
        Name
    </label>
    <input #name="ngModel" [(ngModel)]="user.name" type="text" required minlength="2" class="form-control" id="first-name"
        name="first-name">

    <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">
        <div *ngIf="name.errors.required">
            Name is required.
        </div>
        <div *ngIf="name.errors.minlength">
            Name must be at least 2 characters long.
        </div>
    </div>
</div>

<div class="form-group">
    <label for="surname">
        Last Name
    </label>
    <input #surname="ngModel" [(ngModel)]="user.surname" type="text" required minlength="2" class="form-control" id="surname"
        name="surname">

    <div *ngIf="surname.invalid && (surname.dirty || surname.touched)" class="alert alert-danger">
        <div *ngIf="surname.errors.required">
            Name is required.
        </div>
        <div *ngIf="surname.errors.minlength">
            Name must be at least 2 characters long.
        </div>
    </div>
</div>

<div class="form-group">
    <label for="username">
        Username
    </label>
    <input #username="ngModel" [(ngModel)]="user.username" type="text" required minlength="2" class="form-control" id="username"
        name="username">

    <div *ngIf="username.invalid && (username.dirty || username.touched)" class="alert alert-danger">
        <div *ngIf="username.errors.required">
            Name is required.
        </div>
        <div *ngIf="username.errors.minlength">
            Name must be at least 2 characters long.
        </div>
    </div>
</div>

<div class="form-group">
    <label for="email">Email address</label>
    <input #email="ngModel" [(ngModel)]="user.email" type="email" class="form-control" id="email" name="email" required
        email>

    <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">
        <div *ngIf="email.errors.required">
            Email is required.
        </div>

        <div *ngIf="email.errors.email">
            Please provide valid email address.
        </div>
    </div>
</div>

<div class="form-group">
    <label for="password">
        Password
        <span *ngIf="password.invalid && password.dirty">
            <span *ngIf=" password.errors.required ">
                is required
            </span>
            <span *ngIf=" password.errors.minlength ">
                must be at least 8 chars
            </span>
            <span *ngIf=" password.errors.pattern ">
                must contain at least one number
            </span>
        </span>
    </label>
    <input #password="ngModel" [(ngModel)]="user.password" required minlength="8" pattern="\w*[0-9]{1,}\w*"
        [class.alert-danger]=" password.invalid && password.dirty " type="password" class="form-control" id="password"
        name="password">
</div>


<div class="form-group">
    <label for="password_confirmation">
        Confirm Password
        <span *ngIf="confirmPassword.invalid && confirmPassword.dirty">
            <span *ngIf=" confirmPassword.errors.required ">
                Is required
            </span>
        </span>
        <span *ngIf="confirmPassword.touched && confirmPassword.value !== password.value">
            Is not the same as password
        </span>
    </label>
    <input #confirmPassword="ngModel" [(ngModel)]="user.confirmPassword" required [class.alert-danger]=" confirmPassword.invalid && confirmPassword.dirty"
        type="password" class="form-control" id="password_confirmation" name="password_confirmation">
</div>

<button type="submit" [disabled]="!registerForm.valid || confirmPassword.value !== password.value" class="btn btn-primary btn-block">Register</button>
</form> -->
